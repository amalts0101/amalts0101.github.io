name: GitHub Actions Secret Example

on:
  push:
    branches: [ main ]

jobs:
  secrets-in-github-actions:
    runs-on: windows-latest

    steps:
      - name: Step 1 - Echo out a GitHub Actions Secret to the logs
        shell: bash
        run: |
          echo "The GitHub Action Secret will be masked: "
          echo "${{ secrets.SECRET_TOKEN }}"
          echo "Trick to echo GitHub Actions Secret: "
          echo "${{ secrets.SECRET_TOKEN }}" | sed 's/./& /g'

      - name: Step 2 - GitHub Action if statement (true)
        shell: bash
        env:
          WHO_TO_TRUST: ${{ secrets.SECRET_TOKEN }}
        if: ${{ env.WHO_TO_TRUST == 'TrustNo1' }}
        run: echo "I know what the secret token is!"

      - name: Step 3 - Conditional GitHub Action (false)
        shell: bash
        env:
          WHO_TO_TRUST: ${{ secrets.SECRET_TOKEN }}
        if: ${{ env.WHO_TO_TRUST != 'TrustNobody' }}
        run: echo "I was wrong thinking the GitHub secret was 'TrustNobody'!"
